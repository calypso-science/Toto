
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>toto.plugins.extreme.do_extreme &#8212; Toto 1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="toto.plugins.plots package" href="toto.plugins.plots.html" />
    <link rel="prev" title="toto.plugins.extreme package" href="toto.plugins.extreme.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <a class="reference internal image-reference" href="../_images/calypso.png"><img alt="../_images/calypso.png" class="align-right" src="../_images/calypso.png" style="width: 150px;" /></a>
<section id="module-toto.plugins.extreme.do_extreme">
<span id="toto-plugins-extreme-do-extreme"></span><h1>toto.plugins.extreme.do_extreme<a class="headerlink" href="#module-toto.plugins.extreme.do_extreme" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="toto.plugins.extreme.do_extreme.Extreme">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">toto.plugins.extreme.do_extreme.</span></span><span class="sig-name descname"><span class="pre">Extreme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pandas_obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/toto/plugins/extreme/do_extreme.html#Extreme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toto.plugins.extreme.do_extreme.Extreme" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ExtremeBase</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="toto.plugins.extreme.do_extreme.Extreme.distribution_shape">
<span class="sig-name descname"><span class="pre">distribution_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'magnitude'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direction'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'direction</span> <span class="pre">binning':</span> <span class="pre">{'centered':</span> <span class="pre">True,</span> <span class="pre">'not-centered':</span> <span class="pre">False},</span> <span class="pre">'direction</span> <span class="pre">interval':</span> <span class="pre">45.0,</span> <span class="pre">'directional':</span> <span class="pre">True,</span> <span class="pre">'display</span> <span class="pre">CDFs':</span> <span class="pre">True,</span> <span class="pre">'display</span> <span class="pre">peaks':</span> <span class="pre">True,</span> <span class="pre">'fitting</span> <span class="pre">distribution':</span> <span class="pre">{'GEV':</span> <span class="pre">False,</span> <span class="pre">'GPD':</span> <span class="pre">False,</span> <span class="pre">'Gumbel':</span> <span class="pre">False,</span> <span class="pre">'Weibull':</span> <span class="pre">True},</span> <span class="pre">'folder</span> <span class="pre">out':</span> <span class="pre">'/home/remy/software/TOTO/Toto/docs',</span> <span class="pre">'method':</span> <span class="pre">{'ml':</span> <span class="pre">True,</span> <span class="pre">'mom':</span> <span class="pre">False,</span> <span class="pre">'pkd':</span> <span class="pre">False,</span> <span class="pre">'pwm':</span> <span class="pre">False},</span> <span class="pre">'minimum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">peaks</span> <span class="pre">over</span> <span class="pre">threshold':</span> <span class="pre">30,</span> <span class="pre">'minimum</span> <span class="pre">time</span> <span class="pre">interval</span> <span class="pre">between</span> <span class="pre">peaks</span> <span class="pre">(h)':</span> <span class="pre">24.0,</span> <span class="pre">'threshold</span> <span class="pre">type':</span> <span class="pre">{'percentile':</span> <span class="pre">True,</span> <span class="pre">'value':</span> <span class="pre">False},</span> <span class="pre">'threshold</span> <span class="pre">value':</span> <span class="pre">95.0,</span> <span class="pre">'time</span> <span class="pre">blocking':</span> <span class="pre">{'Annual':</span> <span class="pre">True,</span> <span class="pre">'Monthly':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)':</span> <span class="pre">False}}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/toto/plugins/extreme/do_extreme.html#Extreme.distribution_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toto.plugins.extreme.do_extreme.Extreme.distribution_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used for distribution analysis of any type.
It generates return the shape and scale of a distribution.
Inputs can be:</p>
<blockquote>
<div><blockquote>
<div><p>-only magnitude (omni-directional extreme value ananlysis)
-magnitute and direction (directional ARI with omni or directional POT)_</p>
</div></blockquote>
<dl>
<dt>mag<span class="classifier">str</span></dt><dd><p>Name of the column from which to get stats.</p>
</dd>
<dt>drr<span class="classifier">str optionnal</span></dt><dd><p>Column name representing the directions.</p>
</dd>
<dt>args: dict</dt><dd><dl>
<dt>Dictionnary with the folowing keys:</dt><dd><dl class="simple">
<dt>fitting distribution: str</dt><dd><p>Name of the fit to use, can be: <cite>Weibull</cite>, <cite>Gumbel</cite>, <cite>GPD</cite> or <cite>GEV</cite>.</p>
</dd>
<dt>method: str</dt><dd><p>Name of the estimation method, can be:
<cite>pkd</cite>: Pickands’ estimator.
<cite>pwm</cite>: PWM-method
<cite>mom</cite>: Moment method
<cite>ml</cite> : Maximum Likelihood method</p>
</dd>
<dt>threshold type: str</dt><dd><p>Method to find the peaks:
<cite>percentile</cite>: using the th percentile
<cite>value</cite>: using a treshold value</p>
</dd>
<dt>threshold value: float</dt><dd><p>Either a absolute value or percentile value depending on the <cite>threshold type</cite></p>
</dd>
<dt>directional: bool</dt><dd><p>Can be <cite>True</cite> or <cite>False</cite>, to calculate stats for each direction.
Needs <cite>drr</cite> variable</p>
</dd>
<dt>direction binning: str</dt><dd><p>Can be <cite>centered</cite> or <cite>not-centered</cite> depending if the directionnal are centered over 0</p>
</dd>
<dt>direction interval: int</dt><dd><p>Dirctionnal interval for the bins in degrees</p>
</dd>
</dl>
<p>minimum number of peaks over threshold: int
minimum time interval between peaks (h): int
display peaks: bool</p>
<blockquote>
<div><p><cite>True</cite> or <cite>False</cite> to display peaks over threshold</p>
</div></blockquote>
<dl class="simple">
<dt>display CDFs: str</dt><dd><p><cite>True</cite> or <cite>False</cite> to display CFDs image</p>
</dd>
<dt>folder out: str</dt><dd><p>Path to save the output</p>
</dd>
<dt>time blocking: str</dt><dd><dl class="simple">
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Annual'</span></code>,</dt><dd><p>Statistics will be calculated for the whole timeserie</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each South hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each North hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Monthly'</span></code>,</dt><dd><p>Statistics will be calculated for each 12 months</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span><span class="n">tf</span><span class="p">[</span><span class="s1">&#39;test1&#39;</span><span class="p">][</span><span class="s1">&#39;dataframe&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Extreme</span><span class="o">.</span><span class="n">distribution_shape</span><span class="p">(</span><span class="n">mag</span><span class="o">=</span><span class="s1">&#39;U&#39;</span><span class="p">,</span><span class="n">drr</span><span class="o">=</span><span class="s1">&#39;drr&#39;</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;directional&#39;</span><span class="p">:</span><span class="s1">&#39;On&#39;</span><span class="p">,</span><span class="n">Time</span> <span class="n">blocking</span><span class="s1">&#39;:&#39;</span><span class="n">Annual</span><span class="s1">&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id7">
<caption><span class="caption-text">Distribution shape</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Filename</p></th>
<th class="head"><p>Scale</p></th>
<th class="head"><p>Shape</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="toto.plugins.extreme.do_extreme.Extreme.do_extreme">
<span class="sig-name descname"><span class="pre">do_extreme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'magnitude'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tp_optional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'direction_optional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tm_optional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">water_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'water_depth_optional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'direction</span> <span class="pre">binning':</span> <span class="pre">{'centered':</span> <span class="pre">True,</span> <span class="pre">'not-centered':</span> <span class="pre">False},</span> <span class="pre">'direction</span> <span class="pre">interval':</span> <span class="pre">45.0,</span> <span class="pre">'directional':</span> <span class="pre">True,</span> <span class="pre">'display</span> <span class="pre">CDFs':</span> <span class="pre">True,</span> <span class="pre">'display</span> <span class="pre">peaks':</span> <span class="pre">True,</span> <span class="pre">'estimate</span> <span class="pre">Hmax</span> <span class="pre">&amp;</span> <span class="pre">Cmax</span> <span class="pre">RPVs':</span> <span class="pre">{'Off':</span> <span class="pre">True,</span> <span class="pre">'On':</span> <span class="pre">False},</span> <span class="pre">'fitting</span> <span class="pre">distribution':</span> <span class="pre">{'GEV':</span> <span class="pre">False,</span> <span class="pre">'GPD':</span> <span class="pre">False,</span> <span class="pre">'Gumbel':</span> <span class="pre">False,</span> <span class="pre">'Weibull':</span> <span class="pre">True},</span> <span class="pre">'folder</span> <span class="pre">out':</span> <span class="pre">'/home/remy/software/TOTO/Toto/docs',</span> <span class="pre">'method':</span> <span class="pre">{'ml':</span> <span class="pre">True,</span> <span class="pre">'mom':</span> <span class="pre">False,</span> <span class="pre">'pkd':</span> <span class="pre">False,</span> <span class="pre">'pwm':</span> <span class="pre">False},</span> <span class="pre">'minimum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">peaks</span> <span class="pre">over</span> <span class="pre">threshold':</span> <span class="pre">30,</span> <span class="pre">'minimum</span> <span class="pre">time</span> <span class="pre">interval</span> <span class="pre">between</span> <span class="pre">peaks</span> <span class="pre">(h)':</span> <span class="pre">24.0,</span> <span class="pre">'return</span> <span class="pre">period':</span> <span class="pre">[1,</span> <span class="pre">10,</span> <span class="pre">25,</span> <span class="pre">50,</span> <span class="pre">100],</span> <span class="pre">'slope</span> <span class="pre">fitting</span> <span class="pre">distribution':</span> <span class="pre">{'Gumbel':</span> <span class="pre">False,</span> <span class="pre">'Weibull':</span> <span class="pre">True},</span> <span class="pre">'slope</span> <span class="pre">treshold':</span> <span class="pre">0.005,</span> <span class="pre">'threshold</span> <span class="pre">type':</span> <span class="pre">{'percentile':</span> <span class="pre">True,</span> <span class="pre">'value':</span> <span class="pre">False},</span> <span class="pre">'threshold</span> <span class="pre">value':</span> <span class="pre">95.0,</span> <span class="pre">'time</span> <span class="pre">blocking':</span> <span class="pre">{'Annual':</span> <span class="pre">True,</span> <span class="pre">'Monthly':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)':</span> <span class="pre">False},</span> <span class="pre">'water</span> <span class="pre">depth':</span> <span class="pre">5000.0}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/toto/plugins/extreme/do_extreme.html#Extreme.do_extreme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toto.plugins.extreme.do_extreme.Extreme.do_extreme" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used for extreme value analysis of any type.
It generates return period values for any parameters.
Inputs can be:</p>
<blockquote>
<div><p>-only magnitude (omni-directional extreme value ananlysis)
-magnitute and direction (directional ARI with omni or directional POT)_
-wave magnitude and period (omni-directional analysis and bi-variate,</p>
<blockquote>
<div><p>Hs vs. Tp, extremes, estimated using the FORM method)</p>
</div></blockquote>
<dl class="simple">
<dt>-wave magnitude, period and direction (directional ARI with omni or</dt><dd><p>directional POT and bi-variate extremes, Hs vs. Tp, estimated using the
FORM method for each selected directions)</p>
</dd>
</dl>
</div></blockquote>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h2>
<dl>
<dt>mag<span class="classifier">str</span></dt><dd><p>Name of the column from which to get stats.</p>
</dd>
<dt>tp<span class="classifier">str optionnal</span></dt><dd><p>Column name representing the peak period.</p>
</dd>
<dt>tm<span class="classifier">str optionnal</span></dt><dd><p>Column name representing Tm02.</p>
</dd>
<dt>drr<span class="classifier">str optionnal</span></dt><dd><p>Column name representing the directions.</p>
</dd>
<dt>water_depth<span class="classifier">str optionnal</span></dt><dd><p>Column name representing the water elevation.</p>
</dd>
<dt>args: dict</dt><dd><dl>
<dt>Dictionnary with the folowing keys:</dt><dd><dl class="simple">
<dt>fitting distribution: str</dt><dd><p>Name of the fit to use, can be: <cite>Weibull</cite>, <cite>Gumbel</cite>, <cite>GPD</cite> or <cite>GEV</cite>.</p>
</dd>
<dt>method: str</dt><dd><p>Name of the estimation method, can be:
<cite>pkd</cite>: Pickands’ estimator.
<cite>pwm</cite>: PWM-method
<cite>mom</cite>: Moment method
<cite>ml</cite> : Maximum Likelihood method</p>
</dd>
<dt>threshold type: str</dt><dd><p>Method to find the peaks:
<cite>percentile</cite>: using the th percentile
<cite>value</cite>: using a treshold value</p>
</dd>
<dt>threshold value: float</dt><dd><p>Either a absolute value or percentile value depending on the <cite>threshold type</cite></p>
</dd>
<dt>slope fitting distribution: str</dt><dd><p>Can be: <cite>Weibull</cite>, <cite>Gumbel</cite></p>
</dd>
</dl>
<p>slope threshold: float
return period: list</p>
<blockquote>
<div><p>Return period values.</p>
</div></blockquote>
<dl class="simple">
<dt>estimate Hmax &amp; Cmax RPVs: str</dt><dd><p>Can be <cite>On</cite> or <cite>Off</cite></p>
</dd>
<dt>water depth: float</dt><dd><p>Total water depth if not specified in the input</p>
</dd>
<dt>directional: bool</dt><dd><p>Can be <cite>True</cite> or <cite>False</cite>, to calculate stats for each direction.
Needs <cite>drr</cite> variable</p>
</dd>
<dt>direction binning: str</dt><dd><p>Can be <cite>centered</cite> or <cite>not-centered</cite> depending if the directionnal are centered over 0</p>
</dd>
<dt>direction interval: int</dt><dd><p>Dirctionnal interval for the bins in degrees</p>
</dd>
</dl>
<p>minimum number of peaks over threshold: int
minimum time interval between peaks (h): int
display peaks: bool</p>
<blockquote>
<div><p><cite>True</cite> or <cite>False</cite> to display peaks over threshold</p>
</div></blockquote>
<dl class="simple">
<dt>display CDFs: str</dt><dd><p><cite>True</cite> or <cite>False</cite> to display CFDs image</p>
</dd>
<dt>folder out: str</dt><dd><p>Path to save the output</p>
</dd>
<dt>time blocking: str</dt><dd><dl class="simple">
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Annual'</span></code>,</dt><dd><p>Statistics will be calculated for the whole timeserie</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each South hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each North hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Monthly'</span></code>,</dt><dd><p>Statistics will be calculated for each 12 months</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span><span class="n">tf</span><span class="p">[</span><span class="s1">&#39;test1&#39;</span><span class="p">][</span><span class="s1">&#39;dataframe&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Extreme</span><span class="o">.</span><span class="n">do_extreme</span><span class="p">(</span><span class="n">mag</span><span class="o">=</span><span class="s1">&#39;U&#39;</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;directional&#39;</span><span class="p">:</span><span class="s1">&#39;On&#39;</span><span class="p">,</span><span class="n">Time</span> <span class="n">blocking</span><span class="s1">&#39;:&#39;</span><span class="n">Annual</span><span class="s1">&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span>
</pre></div>
</div>
</section>
<section id="outputs">
<h2>Outputs:<a class="headerlink" href="#outputs" title="Permalink to this heading">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id8">
<caption><span class="caption-text">Extreme value</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Omni</p></th>
<th class="head"><p>N</p></th>
<th class="head"><p>E</p></th>
<th class="head"><p>W</p></th>
<th class="head"><p>S</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="toto.plugins.extreme.do_extreme.Extreme.do_extreme_adjusted">
<span class="sig-name descname"><span class="pre">do_extreme_adjusted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'magnitude'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wspd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wind_optional'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'display</span> <span class="pre">CDFs':</span> <span class="pre">{'Off':</span> <span class="pre">False,</span> <span class="pre">'On':</span> <span class="pre">True},</span> <span class="pre">'estimation</span> <span class="pre">method</span> <span class="pre">for</span> <span class="pre">Hs':</span> <span class="pre">{'ml':</span> <span class="pre">True,</span> <span class="pre">'mom':</span> <span class="pre">False,</span> <span class="pre">'pkd':</span> <span class="pre">False,</span> <span class="pre">'pwm':</span> <span class="pre">False},</span> <span class="pre">'estimation</span> <span class="pre">method</span> <span class="pre">for</span> <span class="pre">Wspd':</span> <span class="pre">{'ml':</span> <span class="pre">True,</span> <span class="pre">'mom':</span> <span class="pre">False,</span> <span class="pre">'pkd':</span> <span class="pre">False,</span> <span class="pre">'pwm':</span> <span class="pre">False},</span> <span class="pre">'fitting</span> <span class="pre">distribution</span> <span class="pre">for</span> <span class="pre">Hs':</span> <span class="pre">{'GEV':</span> <span class="pre">False,</span> <span class="pre">'GPD':</span> <span class="pre">False,</span> <span class="pre">'Gumbel':</span> <span class="pre">False,</span> <span class="pre">'Weibull':</span> <span class="pre">True},</span> <span class="pre">'fitting</span> <span class="pre">distribution</span> <span class="pre">for</span> <span class="pre">Wspd':</span> <span class="pre">{'GEV':</span> <span class="pre">False,</span> <span class="pre">'GPD':</span> <span class="pre">False,</span> <span class="pre">'Gumbel':</span> <span class="pre">False,</span> <span class="pre">'Weibull':</span> <span class="pre">True},</span> <span class="pre">'folder</span> <span class="pre">out':</span> <span class="pre">'/home/remy/software/TOTO/Toto/docs',</span> <span class="pre">'max</span> <span class="pre">limiting</span> <span class="pre">Hs':</span> <span class="pre">5,</span> <span class="pre">'risk</span> <span class="pre">level':</span> <span class="pre">[10],</span> <span class="pre">'time</span> <span class="pre">blocking':</span> <span class="pre">{'Annual':</span> <span class="pre">True,</span> <span class="pre">'Monthly':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)':</span> <span class="pre">False},</span> <span class="pre">'transport</span> <span class="pre">distance</span> <span class="pre">(km)':</span> <span class="pre">1000.0,</span> <span class="pre">'transport</span> <span class="pre">speed</span> <span class="pre">(m/s)':</span> <span class="pre">2.572}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/toto/plugins/extreme/do_extreme.html#Extreme.do_extreme_adjusted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toto.plugins.extreme.do_extreme.Extreme.do_extreme_adjusted" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used for adjusted extreme value analysis (Hs and wind speed)
accuonting for time of exposure (typically for transportation metocean extremes). It generates
return period values for Hs and Wspd. Inputs are: %Hs and Wsp (optional).
Reference: GL Noble Denton, 2010. TECHNICAL POLICY BOARD, GUIDELINES FOR
MARINE TRANSPORTATIONS. GL Noble Denton Group Ltd.</p>
<section id="id1">
<h2>Parameters<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<dl>
<dt>hs<span class="classifier">str</span></dt><dd><p>Column name representing the wave height</p>
</dd>
<dt>wspd<span class="classifier">str optionnal</span></dt><dd><p>Column name representing the wind speed.</p>
</dd>
<dt>args: dict</dt><dd><dl>
<dt>Dictionnary with the folowing keys:</dt><dd><dl class="simple">
<dt>fitting distributionfor Hs: str</dt><dd><p>Name of the fit to use, can be: <cite>Weibull</cite>, <cite>Gumbel</cite>, <cite>GPD</cite> or <cite>GEV</cite>.</p>
</dd>
<dt>fitting distributionfor Wspd: str</dt><dd><p>Name of the fit to use, can be: <cite>Weibull</cite>, <cite>Gumbel</cite>, <cite>GPD</cite> or <cite>GEV</cite>.</p>
</dd>
<dt>estimation method for Hs: str</dt><dd><p>Name of the estimation method, can be:
<cite>pkd</cite>: Pickands’ estimator.
<cite>pwm</cite>: PWM-method
<cite>mom</cite>: Moment method
<cite>ml</cite> : Maximum Likelihood method</p>
</dd>
<dt>estimation method for Wspd: str</dt><dd><p>Name of the estimation method, can be:
<cite>pkd</cite>: Pickands’ estimator.
<cite>pwm</cite>: PWM-method
<cite>mom</cite>: Moment method
<cite>ml</cite> : Maximum Likelihood method</p>
</dd>
<dt>risk level: list</dt><dd><p>percentage for the risk level</p>
</dd>
<dt>max limiting Hs: float</dt><dd><p>Typically 5 m for barge tow and 8 m for ships</p>
</dd>
<dt>transport speed (m/s): float</dt><dd><p>Boat in speed in m/s</p>
</dd>
</dl>
<p>transport distance (km): float
display CDFs: str</p>
<blockquote>
<div><p><cite>On</cite> or <cite>Off</cite> to display CFDs image</p>
</div></blockquote>
<dl class="simple">
<dt>folder out: str</dt><dd><p>Path to save the output</p>
</dd>
<dt>time blocking: str</dt><dd><dl class="simple">
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Annual'</span></code>,</dt><dd><p>Statistics will be calculated for the whole timeserie</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each South hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each North hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Monthly'</span></code>,</dt><dd><p>Statistics will be calculated for each 12 months</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="id2">
<h2>Examples:<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span><span class="n">tf</span><span class="p">[</span><span class="s1">&#39;test1&#39;</span><span class="p">][</span><span class="s1">&#39;dataframe&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Extreme</span><span class="o">.</span><span class="n">do_extreme_adjusted</span><span class="p">(</span><span class="n">hs</span><span class="o">=</span><span class="s1">&#39;hs&#39;</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;transport speed (m/s)&#39;</span><span class="p">:</span><span class="mf">2.5</span><span class="p">,</span><span class="s1">&#39;transport distance (km)&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span><span class="s1">&#39;time blocking&#39;</span><span class="p">:</span><span class="s1">&#39;Annual&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span>
</pre></div>
</div>
</section>
<section id="id3">
<h2>Outputs:<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id9">
<caption><span class="caption-text">Extreme value</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Omni</p></th>
<th class="head"><p>N</p></th>
<th class="head"><p>E</p></th>
<th class="head"><p>W</p></th>
<th class="head"><p>S</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="toto.plugins.extreme.do_extreme.Extreme.extreme_water_elevation">
<span class="sig-name descname"><span class="pre">extreme_water_elevation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">surge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'surge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'display</span> <span class="pre">CDFs':</span> <span class="pre">True,</span> <span class="pre">'display</span> <span class="pre">peaks':</span> <span class="pre">True,</span> <span class="pre">'fitting</span> <span class="pre">distribution':</span> <span class="pre">{'GEV':</span> <span class="pre">False,</span> <span class="pre">'GPD':</span> <span class="pre">False,</span> <span class="pre">'Gumbel':</span> <span class="pre">False,</span> <span class="pre">'Weibull':</span> <span class="pre">True},</span> <span class="pre">'folder</span> <span class="pre">out':</span> <span class="pre">'/home/remy/software/TOTO/Toto/docs',</span> <span class="pre">'method':</span> <span class="pre">{'ml':</span> <span class="pre">True,</span> <span class="pre">'mom':</span> <span class="pre">False,</span> <span class="pre">'pkd':</span> <span class="pre">False,</span> <span class="pre">'pwm':</span> <span class="pre">False},</span> <span class="pre">'minimum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">peaks</span> <span class="pre">over</span> <span class="pre">threshold':</span> <span class="pre">30,</span> <span class="pre">'minimum</span> <span class="pre">time</span> <span class="pre">interval</span> <span class="pre">between</span> <span class="pre">peaks</span> <span class="pre">(h)':</span> <span class="pre">24.0,</span> <span class="pre">'return</span> <span class="pre">period':</span> <span class="pre">[1,</span> <span class="pre">10,</span> <span class="pre">25,</span> <span class="pre">50,</span> <span class="pre">100],</span> <span class="pre">'surge':</span> <span class="pre">{'Both</span> <span class="pre">(neg</span> <span class="pre">and</span> <span class="pre">pos)':</span> <span class="pre">True,</span> <span class="pre">'Negative</span> <span class="pre">only':</span> <span class="pre">False,</span> <span class="pre">'Positive</span> <span class="pre">only':</span> <span class="pre">False},</span> <span class="pre">'threshold</span> <span class="pre">type':</span> <span class="pre">{'percentile':</span> <span class="pre">True,</span> <span class="pre">'value':</span> <span class="pre">False},</span> <span class="pre">'threshold</span> <span class="pre">value':</span> <span class="pre">95.0,</span> <span class="pre">'time</span> <span class="pre">blocking':</span> <span class="pre">{'Annual':</span> <span class="pre">True,</span> <span class="pre">'Monthly':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)':</span> <span class="pre">False,</span> <span class="pre">'Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)':</span> <span class="pre">False}}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/toto/plugins/extreme/do_extreme.html#Extreme.extreme_water_elevation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#toto.plugins.extreme.do_extreme.Extreme.extreme_water_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used for extreme value analysis of total still water 
elevation (surge + tide).
Inputs must be surge and tide level (in the same unit).
The method complies with ISO recommendations:
return period values are estimated by fitting a distribution
to the empirical distribution obtained by combining the
joint frequency distribution of tidal and surge elevations.</p>
<section id="id4">
<h2>Parameters<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<dl>
<dt>tide: str</dt><dd><p>Column name representing the tide.</p>
</dd>
<dt>surge: str optionnal</dt><dd><p>Column name representing the surge.</p>
</dd>
<dt>args: dict</dt><dd><dl>
<dt>Dictionnary with the folowing keys:</dt><dd><dl class="simple">
<dt>fitting distribution: str</dt><dd><p>Name of the fit to use, can be: <cite>Weibull</cite>, <cite>Gumbel</cite>, <cite>GPD</cite> or <cite>GEV</cite>.</p>
</dd>
<dt>method: str</dt><dd><p>Name of the estimation method, can be:
<cite>pkd</cite>: Pickands’ estimator.
<cite>pwm</cite>: PWM-method
<cite>mom</cite>: Moment method
<cite>ml</cite> : Maximum Likelihood method</p>
</dd>
<dt>surge: str</dt><dd><p>Can be:
<cite>Positive only</cite>: use only positive surge
<cite>Negative only</cite>:use only negative surge
<cite>Both (neg and pos)</cite>: use both</p>
</dd>
<dt>return period: list</dt><dd><p>Return period values.</p>
</dd>
<dt>threshold type: str</dt><dd><p>Method to find the peaks:
<cite>percentile</cite>: using the th percentile
<cite>value</cite>: using a treshold value</p>
</dd>
<dt>threshold value: float</dt><dd><p>Either a absolute value or percentile value depending on the <cite>threshold type</cite></p>
</dd>
</dl>
<p>minimum number of peaks over threshold: int
minimum time interval between peaks (h): int
display peaks: bool</p>
<blockquote>
<div><p><cite>True</cite> or <cite>False</cite> to display peaks over threshold</p>
</div></blockquote>
<dl class="simple">
<dt>display CDFs: bool</dt><dd><p><cite>True</cite> or <cite>False</cite> to display CFDs image</p>
</dd>
<dt>folder out: str</dt><dd><p>Path to save the output</p>
</dd>
<dt>time blocking: str</dt><dd><dl class="simple">
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Annual'</span></code>,</dt><dd><p>Statistics will be calculated for the whole timeserie</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(South</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each South hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Seasonal</span> <span class="pre">(North</span> <span class="pre">hemisphere)'</span></code>,</dt><dd><p>Statistics will be calculated for each North hemisphere seasons</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">Time</span> <span class="pre">blocking=='Monthly'</span></code>,</dt><dd><p>Statistics will be calculated for each 12 months</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="id5">
<h2>Examples:<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span><span class="n">tf</span><span class="p">[</span><span class="s1">&#39;test1&#39;</span><span class="p">][</span><span class="s1">&#39;dataframe&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Extreme</span><span class="o">.</span><span class="n">extreme_water_elevation</span><span class="p">(</span><span class="n">tide</span><span class="o">=</span><span class="s1">&#39;Et&#39;</span><span class="p">,</span><span class="n">surge</span><span class="o">=</span><span class="s1">&#39;Eo&#39;</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Time blocking&#39;</span><span class="p">:</span><span class="s1">&#39;Annual&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span>
</pre></div>
</div>
</section>
<section id="id6">
<h2>Outputs:<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id10">
<caption><span class="caption-text">Extreme water elevation</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>positive surge</p></th>
<th class="head"><p>Omni</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>negative surge</p></td>
<td><p>Omni</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>25</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Toto</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html"> How to install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convention.html"> Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input.html"> Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filters.html"> Filter functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="toto.interpolations.html"> Interpolation functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="toto.selections.html"> Selection functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html"> Plugins functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customize.html"> Customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html"> Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html"> support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Toto open-source</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="toto.html">toto package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">toto</a><ul>
  <li><a href="toto.html">toto package</a><ul>
  <li><a href="toto.plugins.html">toto.plugins package</a><ul>
  <li><a href="toto.plugins.extreme.html">toto.plugins.extreme package</a><ul>
      <li>Previous: <a href="toto.plugins.extreme.html" title="previous chapter">toto.plugins.extreme package</a></li>
      <li>Next: <a href="toto.plugins.plots.html" title="next chapter">toto.plugins.plots package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Calypso Science.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/source/toto.plugins.extreme.do_extreme.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>